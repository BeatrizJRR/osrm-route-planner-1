<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\api\ElevationClient.java"
         totalNumberOfTokens="163"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\api\NominatimClient.java"
         totalNumberOfTokens="186"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\api\OSRMClient.java"
         totalNumberOfTokens="452"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\api\OverpassClient.java"
         totalNumberOfTokens="173"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\model\ElevationProfile.java"
         totalNumberOfTokens="248"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\model\HistoryEntry.java"
         totalNumberOfTokens="180"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\model\POI.java"
         totalNumberOfTokens="73"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\model\Point.java"
         totalNumberOfTokens="108"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\model\Route.java"
         totalNumberOfTokens="150"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\model\TransportMode.java"
         totalNumberOfTokens="10"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\service\Service.java"
         totalNumberOfTokens="2632"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\ui\MapViewer.java"
         totalNumberOfTokens="5300"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\utils\App.java"
         totalNumberOfTokens="27"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\utils\HistoryManager.java"
         totalNumberOfTokens="268"/>
   <file path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\utils\RouteExporter.java"
         totalNumberOfTokens="385"/>
   <duplication lines="23" tokens="178">
      <file begintoken="1917"
            column="48"
            endcolumn="18"
            endline="92"
            endtoken="2094"
            line="70"
            path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\service\Service.java"/>
      <file begintoken="3607"
            column="36"
            endcolumn="18"
            endline="378"
            endtoken="3784"
            line="354"
            path="C:\Users\diogo\OneDrive\Ambiente de Trabalho\ADS\osrm-route-planner\src\main\java\com\myapp\service\Service.java"/>
      <codefragment><![CDATA[            JsonArray routes = osrmResponseJSON.getAsJsonArray("routes");
            if (routes.size() == 0) {
                System.err.println("[RouteService] Nenhuma rota encontrada");
                return null;
            }

            JsonObject firstRoute = routes.get(0).getAsJsonObject();
            double distanceKm = firstRoute.get("distance").getAsDouble() / 1000.0;
            long durationSec = Math.round(firstRoute.get("duration").getAsDouble());

            List<Point> path = new ArrayList<>();
            JsonArray coordsArray = firstRoute
                    .getAsJsonObject("geometry")
                    .getAsJsonArray("coordinates");

            for (JsonElement el : coordsArray) {
                JsonArray coord = el.getAsJsonArray();
                double lon = coord.get(0).getAsDouble();
                double lat = coord.get(1).getAsDouble();
                path.add(new Point(lat, lon, null));
            }
            return new Route(path, distanceKm, durationSec, mode, new ArrayList<>());
        } catch (IOException | InterruptedException e) {
]]></codefragment>
   </duplication>
</pmd-cpd>
